##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

# If the tool is built out of the kit, PIN_ROOT must be specified in the make invo#cation and point to the kit root.
ifdef PIN_ROOT
CONFIG_ROOT := $(PIN_ROOT)/source/tools/Config
else
CONFIG_ROOT := ../Config
endif
include $(CONFIG_ROOT)/makefile.config
include makefile.rules
include $(TOOLS_ROOT)/Config/makefile.default.rules

all: bare bares pure array ll stlstack vector
bare: test.cpp
	make tools TARGET=intel64
	g++ -g test.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > test.dump
	#cat array.dot
	#mv array.dot test.dot
memtracker.cpp: memtracker.h
	@touch memtracker.cpp
testing: memtracker.cpp testing.cpp
	make tools TARGET=intel64
	g++ -g testing.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out
bares: memtracker.cpp bares.cpp
	make tools TARGET=intel64
	g++ -g bares.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > bares.dump
	@#../../../pin -t obj-intel64/memtracker.so -- ./a.out
	@#cat bares.dump
	@#mv array.dot bares.dot
pure: stack_using_pure_array.cpp
	make tools TARGET=intel64
	g++ -g stack_using_pure_array.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > pure.dump
	#cat array.dot
	#mv array.dot s_u_parray.dot
array: stack_using_array.cpp
	make tools TARGET=intel64
	g++ -g stack_using_array.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > array.dump
	#cat array.dot
	#mv array.dot s_u_array.dot
ll: stack_using_ll.cpp
	make tools TARGET=intel64
	g++ -g stack_using_ll.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > ll.dump
	#cat array.dot
	#mv array.dot s_u_ll.dot
stlstack: stack_using_stlstack.cpp
	make tools TARGET=intel64
	g++ -g stack_using_stlstack.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > sustl.dump
	#cat array.dot
	#mv array.dot s_u_stlstack.dot
vector: stack_using_vector.cpp
	make tools TARGET=intel64
	g++ -g stack_using_vector.cpp
	../../../pin -t obj-intel64/memtracker.so -- ./a.out > suv.dump
	#cat array.dot
	#mv array.dot s_u_vector.dot
##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################
